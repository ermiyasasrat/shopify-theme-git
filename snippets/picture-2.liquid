{%- comment -%}
    All image sizes should be provided at 'sections' or 'templates' level.
    Ensure that all assets are correctly sized, providing a fallback
    if required. E.g If no specific 'medium' asset is provided,
    provide a resized version of 'large'. An empty 'alt' tag is fine
    and should be encouraged if for decorative purposes only.
    Output of this would be alt="".

    Pass in lazy (boolean) as option to lazy load the images.
{%- endcomment -%}
<picture>
    {% if lazy %}
        {% if small1x %}
            <source data-srcset="{{ small1x }} 1x{% if small2x %},
                {{ small2x }} 2x{% endif %}"
                media="(max-width: 767px)">
        {% endif %}
        {% if medium1x %}
            <source data-srcset="{{ medium1x }} 1x{% if medium2x %},
                {{ medium2x }} 2x{% endif %}"
                media="(min-width: 768px) and (max-width: 1023px)">
        {% endif %}
        {% if large1x %}
            <source data-srcset="{{ large1x }} 1x{% if large2x %},
                {{ large2x }} 2x{% endif %}"
                media="(min-width: 1024px)">
        {% endif %}
        <img data-src="{{ large1x }}" class="js-lazy-load-image {{ class }}" title="{{alt}}" alt="{{ alt }}"{% if draggable == false %} draggable="false"{% endif %}>
    {% else %}
        {% if small1x %}
            <source srcset="{{ small1x }} 1x{% if small2x %},
                {{ small2x }} 2x{% endif %}"
                media="(max-width: 767px)">
        {% endif %}
        {% if medium1x %}
            <source srcset="{{ medium1x }} 1x{% if medium2x %},
                {{ medium2x }} 2x{% endif %}"
                media="(min-width: 768px) and (max-width: 1023px)">
        {% endif %}
        {% if large1x %}
            <source srcset="{{ large1x }} 1x{% if large2x %},
                {{ large2x }} 2x{% endif %}"
                media="(min-width: 1024px)">
        {% endif %}
        <img height="500" width="500" src="{{ large1x }}"{% unless class == blank %} class="{{ class }}" {% endunless %} title="{{alt}}"  alt="{{ alt }}" {% if draggable == false %} draggable="false" {% endif %}>
    {% endif %}
</picture>
