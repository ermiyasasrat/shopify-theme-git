$(document).ready(function(){$(document).on("click",".dn_pagination li a",function(t){t.preventDefault();var e=$(this).attr("href");$.ajax({url:e,type:"GET",success:function(t){console.log(t);var e=$(t).find(".inside-row-prd").html();if($(document).find(".inside-row-prd").html(""),$(document).find(".inside-row-prd").html(e),$(".dn_price_from").length>0){var a=$(".dn_price_from").val();a=parseFloat(a);var n=$(".dn_price_to").val();n=parseFloat(n),$(document).find(".dn_filter_single_product").each(function(){var t=$(this).attr("data-price");(t=parseFloat(t))>=a&&t<=n?$(this).show():($(this).hide(),console.log())})}$("html, body").animate({scrollTop:$($(".dn_filtered_products")).offset().top-100},500,"linear");var r=$(t).find(".dn_pagination").html();$(document).find(".dn_pagination").html(""),$(document).find(".dn_pagination").html(r)}})});$(document).on("click",".product-sample-button button",function(t){if(t.preventDefault(),$(this).hasClass("goToCart"));else{var e=$(this).parent().attr("data-sample-variant"),a=$(this).parent().attr("data-product-handle"),n=$(this).parent().attr("data-product-id"),r=$(this).parent().attr("data-product-title"),o=$(this).parent().attr("data-product-vendor"),i=$(this).parent().attr("data-product-image"),d=$(this);d.html("Adding Sample");let t={items:[{id:e,quantity:1,properties:{_sample_product_id:n,"Sample of":r,Vendor:o,Handle:a,Image:i}}]};fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(t=>{d.html("Sample Added"),fetch("/cart.js").then(t=>t.json()).then(t=>{var e=t.items.length;$("#CartCount").parent().addClass("site-header__cart--has-items"),$("#CartCount span").eq(0).text(e),$("#CartCount span").eq(1).addClass("large-show").text("items"),$("#CartCount").show()}),d.html("Added | View Cart"),d.addClass("goToCart");var e=document.getElementById("myModal"),a=$("#checkout_btn").attr("data-sample-count");return(a=parseInt(a))>3?$(".samples-exceeded").fadeIn():($(".samples-exceeded").hide(),e.style.display="block"),t.json()}).catch(t=>{console.error("Error:",t)})}}),$(document).on("click",".goToCart",function(t){window.location.href="https://storiesflooring.co.uk/cart"}),$(".dn_price_range").on("change",function(){$(".inside-row-prd").html(""),$(document).find(".dn_paginated_target").each(function(){var t=$(this).find("a").attr("href");$.ajax({url:t,type:"GET",success:function(t){$(".inside-row-prd").append($(t).find(".inside-row-prd").html()),console.log("Load was performed.");var e=$(".dn_price_from").val();e=parseFloat(e);var a=$(".dn_price_to").val();a=parseFloat(a),$(document).find(".dn_filter_single_product").each(function(){var t=$(this).attr("data-price");(t=parseFloat(t))>=e&&t<=a?$(this).show():($(this).hide(),console.log())})}})})});var t=document.querySelector(".range-slider");if(t){var e=t.querySelectorAll("input[type=range]"),a=t.querySelectorAll("input[type=number]");e.forEach(function(t){t.oninput=function(){var t=parseFloat(e[0].value),n=parseFloat(e[1].value);t>n&&([t,n]=[n,t]),a[0].value=t,a[1].value=n}}),a.forEach(function(t){t.oninput=function(){var t=parseFloat(a[0].value),n=parseFloat(a[1].value);if(t>n){var r=t;a[0].value=n,a[1].value=r}e[0].value=t,e[1].value=n}})}});